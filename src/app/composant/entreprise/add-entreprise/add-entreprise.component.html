<div class="form-card">
    <h2>Ajouter Entreprise</h2>
    <form [formGroup]="addForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="nomEntreprise">Nom de l'entreprise</label>
            <div class=" col-sm-8 "><input type="text" name="nomEntreprise" id="nomEntreprise" class="form-control" formControlName="nomEntreprise">
            <!-- formControlName connects this input to the attribute in the ts file -->
            <div *ngIf="nomEntreprise.invalid && nomEntreprise.touched" style="color: rgb(117, 39, 39);">
                Le nom de l'entreprise est obligatoire et
                doit contenir au moins 2 caractéres
              </div>
            </div>
        </div>
        <div class="form-group">
            <label for="localisation">Localisation</label>
            <div class=" col-sm-8 "><textarea id="localisation" type="text" formControlName="localisation" class="form-control" rows="4">
            </textarea> 
            <div *ngIf="nomEntreprise.invalid && nomEntreprise.touched" style="color: rgb(117, 39, 39);">
                La localisation est obligatoire et
                doit contenir au moins 2 caractéres
              </div></div>
                
        </div>
        <div class="form-group">
            <label for="emailEntreprise">Email</label>
            <div class=" col-sm-8 "><input type="text" name="emailEntreprise" id="emailEntreprise" class="form-control" formControlName="emailEntreprise" 
                [ngClass]="{ snapped: emailEntreprise.invalid  }">
                <div *ngIf="nomEntreprise.invalid && nomEntreprise.touched" style="background-color: rgb(117, 39, 39);">
                    Format mail incorrect
                  </div></div>
        </div>
        <div class="form-group" [ngClass]="{ snapped: dateDebutAlternance.invalid  }">
            <label for="dateDebutAlternance">Date Debut Alternance</label>
            <div class=" col-sm-8 "><input type="date" name="dateDebutAlternance" id="dateDebutAlternance" class="form-control" formControlName="dateDebutAlternance"
                >
            </div>
        </div>
        <div class="form-group">
            <label for="dateFinAlternance">Date Fin Alternance</label>
            <div class=" col-sm-8 "><input type="date" name="dateFinAlternance" id="dateFinAlternance" class="form-control" formControlName="dateFinAlternance">
            </div>
        </div>
        <div class="action-buttons col-sm-4" >
            <button type="submit" class="btn btn-primary"  [disabled]="addForm.invalid">Ajouter</button>
        </div>
    </form>
</div>
<div class="face-snap-card" *ngIf="entreprisePreview$ | async as ent"> 
    <h2>{{ ent.nomEntreprise | uppercase }}</h2>
    <p *ngIf="ent.localisation">Localisation: {{ ent.localisation }}</p>
    <p>{{ ent.emailEntreprise }}</p>
    <p *ngIf="ent.dateDebutAlternance">Début Alternance le {{ ent.dateDebutAlternance | date: ' d MMMM yyyy' }}</p>
    <p *ngIf="ent.dateFinAlternance" >Fin Alternance le {{ ent.dateFinAlternance | date: ' d MMMM yyyy' }}</p>
</div>
